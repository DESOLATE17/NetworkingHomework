
# Пример взаимодействия через long polling 

Для примера взаимодействия фронтенда и сервера, напишем приложение, в котором при нажатии на 
соответствующую кнопку создается постоянное соединение с сервером. Пока соединение не разорвется, клиент будет получать 
в случайные моменты времени числа. Разорвать соединение можно так же, нажав на соответствующую кнопку.

Выполняем следующие манипуляции:
* скачиваем все зависимости

        npm ci

* затем запускаем сервер приложения

        npm run start

## Суть взаимодействия
1. Клиент отправляет запрос на сервер
2. Сервер не закрывает соединение, пока у него не возникнет сообщение для отсылки
3. Когда появляется сообщение или лимит ожидания ответа был превышен, сервер отвечает на запрос
4. Браузер немедленно делает новый запрос

## Способ реализации:
* нам потребуется на стороне сервера создать эндпоинт, который, при его вызове, будет в случайный момент времени отвечать клиенту числом
* на клиенте необходимо создать рекурсивную функцию, которая будет поддерживать соединение с сервером, а также пару кнопок, отвечающие за открытие и закрытие соединения

## Используемые средства разработки 
### серверная часть:
* express - библиотека для имитации сервера
* nodemon - библиотека для автоматического перезапуска сервера в случае изменения файлов (удобно для разработки)
### фронтальная часть:
* JavaScript (Fetch API)

Весь код прокомментирован, снизу оставлю полезные ссылки, с более подробным описание технологии long polling.

## Полезные ссылки:

* [https://learn.javascript.ru/long-polling] - описание технологии, пример реализации с помощью встроенной библиотеки http